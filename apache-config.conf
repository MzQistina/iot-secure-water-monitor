# Apache Virtual Host Configuration for IoT Secure Water Monitor
# Place this file in your Apache sites-available directory (Linux) or httpd-vhosts.conf (Windows)
# 
# For Linux: /etc/apache2/sites-available/iot-water-monitor.conf
# For Windows: Add to httpd-vhosts.conf or main httpd.conf

<VirtualHost *:80>
    # Change this to your domain name or server IP
    ServerName your-domain.com
    ServerAlias www.your-domain.com
    
    # Document root (optional, if serving static files directly)
    DocumentRoot /path/to/iot-secure-water-monitor
    
    # WSGI Configuration
    WSGIDaemonProcess iot-water-monitor python-home=/path/to/iot-secure-water-monitor/venv python-path=/path/to/iot-secure-water-monitor
    WSGIProcessGroup iot-water-monitor
    WSGIScriptAlias / /path/to/iot-secure-water-monitor/app.wsgi
    
    # Directory permissions
    <Directory /path/to/iot-secure-water-monitor>
        Require all granted
        Options -Indexes +FollowSymLinks
        AllowOverride None
    </Directory>
    
    # Static files (optional - can be served directly by Apache for better performance)
    Alias /static /path/to/iot-secure-water-monitor/static
    <Directory /path/to/iot-secure-water-monitor/static>
        Require all granted
        Options -Indexes
    </Directory>
    
    # Logging
    ErrorLog ${APACHE_LOG_DIR}/iot-water-monitor-error.log
    CustomLog ${APACHE_LOG_DIR}/iot-water-monitor-access.log combined
    
    # Security headers (recommended)
    Header always set X-Content-Type-Options "nosniff"
    Header always set X-Frame-Options "SAMEORIGIN"
    Header always set X-XSS-Protection "1; mode=block"
</VirtualHost>

# HTTPS Configuration (recommended for production)
# Uncomment and configure after setting up SSL certificates
#<VirtualHost *:443>
#    ServerName your-domain.com
#    ServerAlias www.your-domain.com
#    
#    # SSL Configuration
#    SSLEngine on
#    SSLCertificateFile /path/to/ssl/certificate.crt
#    SSLCertificateKeyFile /path/to/ssl/private.key
#    SSLCertificateChainFile /path/to/ssl/chain.crt
#    
#    # WSGI Configuration
#    WSGIDaemonProcess iot-water-monitor-ssl python-home=/path/to/iot-secure-water-monitor/venv python-path=/path/to/iot-secure-water-monitor
#    WSGIProcessGroup iot-water-monitor-ssl
#    WSGIScriptAlias / /path/to/iot-secure-water-monitor/app.wsgi
#    
#    <Directory /path/to/iot-secure-water-monitor>
#        Require all granted
#        Options -Indexes +FollowSymLinks
#        AllowOverride None
#    </Directory>
#    
#    Alias /static /path/to/iot-secure-water-monitor/static
#    <Directory /path/to/iot-secure-water-monitor/static>
#        Require all granted
#        Options -Indexes
#    </Directory>
#    
#    ErrorLog ${APACHE_LOG_DIR}/iot-water-monitor-ssl-error.log
#    CustomLog ${APACHE_LOG_DIR}/iot-water-monitor-ssl-access.log combined
#    
#    # Security headers
#    Header always set Strict-Transport-Security "max-age=31536000; includeSubDomains"
#    Header always set X-Content-Type-Options "nosniff"
#    Header always set X-Frame-Options "SAMEORIGIN"
#    Header always set X-XSS-Protection "1; mode=block"
#</VirtualHost>

