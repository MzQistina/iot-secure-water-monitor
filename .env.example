# =============================================================================
# Environment Variables Template for Docker Compose
# =============================================================================
# This is a template file. Copy this to .env and update with your actual values:
#   cp .env.example .env
# Then edit .env with your configuration
# =============================================================================

# -----------------------------------------------------------------------------
# Flask Application Configuration
# -----------------------------------------------------------------------------
FLASK_PORT=5000
FLASK_ENV=production
FLASK_DEBUG=0

# -----------------------------------------------------------------------------
# Database Configuration (MariaDB/MySQL)
# -----------------------------------------------------------------------------
# Database connection settings
# If using SSH tunnel, set DB_HOST to host.docker.internal
# If connecting directly, use ilmuwanutara.my (requires remote access granted)
DB_HOST=host.docker.internal
DB_PORT=3306
DB_USER=your_database_user
DB_PASSWORD=your_database_password
DB_NAME=your_database_name
DB_TYPE=mysql

# -----------------------------------------------------------------------------
# Security Configuration
# -----------------------------------------------------------------------------
# SECRET_KEY: Flask session secret key - MUST be changed in production!
# Generate a secure key using: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=change-me-to-a-secure-random-key

# Database encryption key (optional)
# If not set, the application will use db_encryption.key file
# DB_ENCRYPTION_KEY=your-encryption-key-here

# -----------------------------------------------------------------------------
# MQTT Broker Configuration
# -----------------------------------------------------------------------------
# MQTT broker connection settings
MQTT_HOST=your_mqtt_host
MQTT_PORT=8883
MQTT_USER=your_mqtt_username
MQTT_PASSWORD=your_mqtt_password
MQTT_USE_TLS=true
MQTT_TLS_INSECURE=true

# Optional: MQTT certificate paths (if using client certificates)
# MQTT_CA_CERTS=/path/to/ca.crt
# MQTT_CERTFILE=/path/to/client.crt
# MQTT_KEYFILE=/path/to/client.key

# Optional: MQTT topic configuration
# MQTT_PROVISION_TOPIC_BASE=provision
# MQTT_KEYS_TOPIC=keys/+/public

# -----------------------------------------------------------------------------
# Admin User Configuration (Optional)
# -----------------------------------------------------------------------------
# Uncomment and set these to create an admin user at startup
# ADMIN_USERNAME=admin
# ADMIN_PASSWORD=your-secure-admin-password

# -----------------------------------------------------------------------------
# Device Session Configuration (Optional)
# -----------------------------------------------------------------------------
# Device session security settings
# REQUIRE_DEVICE_SESSION=false
# DEVICE_SESSION_TTL_SECONDS=900
# DEVICE_CHALLENGE_TTL_SECONDS=60

# =============================================================================
# Notes:
# =============================================================================
# 1. Change SECRET_KEY to a secure random value in production
# 2. Update database credentials with your actual values
# 3. Update MQTT credentials with your actual values
# 4. For production, set FLASK_ENV=production and FLASK_DEBUG=0
# 5. Review and uncomment optional variables as needed
# =============================================================================
